\documentclass{standalone}
\usepackage{tikz}
\usetikzlibrary{calc}
\begin{document}
\begin{tikzpicture}

% original problem spec
%\def\drawrightspec{}
%\def\drawrightsol{}
%\def\drawleftspec{}
%\def\drawleftsol{}

%\def\drawblackgraph{}
%\def\drawbasesets{}

%\begin{scope}[shift={(2.2,2.45)}]
%\draw[step=1,black!10,very thin] (-1,-1) grid (1,1);
%\end{scope}



\ifdefined\argdyna
   \def\midlabel{$S_A$}
   \def\leftlabel{$S_N$}
   \def\rightlabel{$S_O$}
   \def\drawintersection{}
\fi
\ifdefined\argdynb
   \def\midlabel{$S_A$}
   \def\leftlabel{$S_N$}
   \def\rightlabel{$S_O$}
   \def\drawleft{}
   \def\drawbases{}
\fi
\ifdefined\argdync
   \def\midlabel{$S_A$}
   \def\leftlabel{$S_N$}
   \def\rightlabel{$S_O$}
   \def\drawintersection{}
   \def\drawbases{}
\fi

\ifdefined\argselfa
   \def\midlabel{$S_A$}
   \def\leftlabel{$S_R$}
   \def\rightlabel{$S_E$}
   \def\drawintersection{}
\fi
\ifdefined\argselfb
   \def\midlabel{$S_A$}
   \def\leftlabel{$S_R$}
   \def\rightlabel{$S_E$}
   \def\drawleft{}
   \def\drawbases{}
\fi
\ifdefined\argselfc
   \def\midlabel{$S_A$}
   \def\leftlabel{$S_R$}
   \def\rightlabel{$S_E$}
   \def\drawintersection{}
   \def\drawbases{}
\fi

\draw (0,0.2) rectangle (5.8,4.7);

\coordinate (r) at (2.2,2.45);
\coordinate (e) at (3.4,2.45);

\def\circler{(r) circle (1.7)}
\def\circlee{(e) circle (2.0)}

\node (clab) at (0.3,4.4) {$\mathcal{C}$};

\coordinate (v01) at ($ (r) + (-1.10, 0.70) $);
\coordinate (v02) at ($ (r) + (-1.10,-0.86) $);
\coordinate (v03) at ($ (r) + (-1.00,-0.19) $);
\coordinate (v04) at ($ (r) + (-0.50,-0.40) $);
\coordinate (v05) at ($ (r) + (-0.30, 0.41) $);
\coordinate (v07) at ($ (r) + ( 0.30,-1.20) $);
\coordinate (v08) at ($ (r) + ( 0.16, 0.28) $);
\coordinate (v09) at ($ (r) + ( 0.38,-0.64) $);
\coordinate (v06) at ($ (r) + ( 0.40, 0.90) $);
\coordinate (v10) at ($ (r) + ( 0.90, 0.20) $);
\coordinate (v11) at ($ (r) + ( 0.99,-0.32) $);
\coordinate (v12) at ($ (r) + ( 1.33,-0.30) $);
\coordinate (v13) at ($ (r) + (-0.70, 1.10) $);
\coordinate (v14) at ($ (r) + (1.80, 0.60) $);
\coordinate (v15) at ($ (r) + (1.60, -1.00) $);
\coordinate (q1) at ($ (r) + (0.9, 1.1) $);
\coordinate (q2) at ($ (r) + (0.8,-1.2) $);
\coordinate (q3) at ($ (r) + (-0.2, 1.2) $);
\coordinate (q4) at ($ (r) + (-0.4, -1.0) $);

\ifdefined\drawstraightsol
   \draw[color=black!20,line width=7,line cap=round]
      (q2) -- (v11) -- (v10) -- (q1);
\fi
\ifdefined\drawrightsol
   \draw[color=black!20,line width=7,line cap=round]
      (q2) -- (v07) -- (v09) -- (v08) -- (v06) -- (q1);
\fi
\ifdefined\drawleftsol
   \draw[color=black!20,line width=7,line cap=round]
      (q4) -- (v04) -- (v03) -- (v01) -- (v13) -- (q3);
\fi

\ifdefined\drawintersection
   % XnY
   \begin{scope}
      \clip \circler;
      %\fill[pattern=horizontal lines] \circley;
      \draw[ultra thick] \circlee;
   \end{scope}
   \begin{scope}
      \clip \circlee;
      \draw[ultra thick] \circler;
   \end{scope}
\fi

\ifdefined\drawbases
   \draw[dashed] \circler;
   \draw[dashed] \circlee;
   \node (rlab) at ($ (r) + (-1.4,0) $) {\leftlabel};
   \node (elab) at ($ (e) + ( 1.7,0) $) {\rightlabel};
\fi

\ifdefined\drawleft
   \draw[ultra thick] \circler;
\fi

\node (flab) at (2.5,3.8) {\midlabel};

\end{tikzpicture}%
\end{document}
